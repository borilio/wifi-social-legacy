angular.module("miModulo",['ngMaterial','ngMessages']).controller("miControlador",["$scope","$mdDialog","$mdToast","$http",mainController]);function mainController($scope,$mdDialog,$mdToast,$http){var vm=this;vm.mostrarCondiciones=function(ev){$mdDialog.show({controller:vm.DialogController,locals:{m:vm.m},templateUrl:'templates/cond-'+vm.idioma+'.tmpl.html',parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!1,fullscreen:!0}).then(function(answer){vm.condiciones=answer;if(answer){$scope.status=vm.m.condAcepto}else{$scope.status=vm.m.condNoAcepto}},function(){vm.condiciones=!1;$scope.status=vm.m.condElse})};vm.mostrarAyuda=function(ev){$mdDialog.show({controller:vm.DialogController,locals:{m:vm.m},templateUrl:'templates/ayuda.tmpl.html',parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!1}).then(function(answer){},function(){})};vm.mostrarSelectorIdioma=function(ev){$mdDialog.show({controller:vm.DialogController,locals:{m:vm.m},templateUrl:'templates/multi.tmpl.html',parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!1}).then(function(answer){vm.idioma=answer;vm.cargarIdioma(vm.idioma);vm.condiciones=!1;$scope.status=""},function(){})};vm.DialogController=function($scope,$mdDialog,m){$scope.m=m;$scope.hide=function(){$mdDialog.hide()};$scope.cancel=function(){$mdDialog.cancel()};$scope.answer=function(answer){$mdDialog.hide(answer)}};vm.restart=function(){$scope.status="";vm.condiciones=!1;vm.user="";vm.pass="";vm.idioma="es";vm.cargarIdioma(vm.idioma);vm.fabOpen=!1};vm.muestraToast=function(mensaje,posicion,duracion){if(duracion===undefined){duracion=3000}
if(posicion===undefined){posicion="bottom right"}
$mdToast.show($mdToast.simple().textContent(mensaje).position(posicion).hideDelay(duracion))};vm.cargarIdioma=function(codigo){var exito=function(resp){vm.m=resp.data;vm.muestraToast(vm.m.langChange)};var error=function(error){vm.muestraToast("Error while loading languages. Sorry.")};var url="traducciones/"+vm.idioma+".json";$http.get(url).then(exito,error)};vm.empresa="";vm.copyright="GoBo Technologies";vm.descripcion=vm.empresa;vm.numeroVersion="2.0";vm.nombreVersion="ML";vm.idioma="es";vm.m={};vm.cargarIdioma(vm.idioma);vm.user="";vm.pass="";vm.condiciones=!1;vm.fabOpen=!1;$scope.status=""}
